import clsx from "clsx"
import { useState } from "react"

import { PanelHeader } from "~sidepanel/components/ui/PanelHeader"

enum TabKey {
  DESIGN = "design",
  TOOLS = "tools"
}

const menuList = [
  {
    icon: (
      <svg
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M12.1674 8.5332C12.1674 7.57634 12.1664 6.90895 12.0987 6.40539C12.0329 5.91625 11.9125 5.65708 11.728 5.47258C11.5435 5.28807 11.2844 5.16772 10.7952 5.10195C10.2917 5.03425 9.6243 5.0332 8.66742 5.0332H7.33398C6.37711 5.0332 5.70973 5.03427 5.20617 5.10195C4.71699 5.16772 4.45787 5.28807 4.27336 5.47258C4.08885 5.65709 3.9685 5.9162 3.90273 6.40539C3.83505 6.90895 3.83398 7.57633 3.83398 8.5332V9.86664C3.83398 10.8235 3.83503 11.4909 3.90273 11.9945C3.9685 12.4836 4.08885 12.7428 4.27336 12.9273C4.45787 13.1117 4.71704 13.2321 5.20617 13.2979C5.70972 13.3656 6.37712 13.3666 7.33398 13.3666H8.66742C9.6243 13.3666 10.2917 13.3656 10.7952 13.2979C11.2844 13.2321 11.5435 13.1118 11.728 12.9273C11.9126 12.7427 12.0329 12.4836 12.0987 11.9945C12.1664 11.4909 12.1674 10.8235 12.1674 9.86664V8.5332ZM13.1674 9.86664C13.1674 10.7952 13.1683 11.5419 13.0896 12.1276C13.0089 12.7277 12.8362 13.2329 12.4349 13.6341C12.0336 14.0354 11.5284 14.2081 10.9284 14.2888C10.3427 14.3676 9.59598 14.3666 8.66742 14.3666H7.33398C6.40531 14.3666 5.65842 14.3676 5.07273 14.2888C4.4727 14.2081 3.96743 14.0354 3.56617 13.6341C3.16497 13.2329 2.99247 12.7276 2.9118 12.1276C2.83307 11.5419 2.83398 10.7952 2.83398 9.86664V8.5332C2.83398 7.60454 2.83305 6.85764 2.9118 6.27195C2.99248 5.67193 3.16492 5.16665 3.56617 4.76539C3.96743 4.36414 4.47271 4.1917 5.07273 4.11102C5.65842 4.03227 6.40531 4.0332 7.33398 4.0332H8.66742C9.59599 4.0332 10.3427 4.03229 10.9284 4.11102C11.5284 4.19169 12.0337 4.36418 12.4349 4.76539C12.8362 5.16665 13.0089 5.67192 13.0896 6.27195C13.1684 6.85765 13.1674 7.60454 13.1674 8.5332V9.86664Z"
          fill="currentColor"
        />
        <path
          d="M14.166 9.19922C14.166 8.7137 14.1649 8.39986 14.1338 8.1686C14.1047 7.95209 14.0578 7.88391 14.0198 7.84578L13.9835 7.81578C13.9381 7.78513 13.8592 7.75326 13.6966 7.73141C13.4654 7.70032 13.1515 7.69922 12.666 7.69922V6.69922C13.1232 6.69922 13.5164 6.69805 13.8298 6.74016C14.1371 6.78147 14.4325 6.8716 14.6782 7.09266L14.7266 7.1386L14.7726 7.18703C14.9936 7.43275 15.0838 7.72817 15.1251 8.03547C15.1672 8.34882 15.166 8.74203 15.166 9.19922C15.166 9.65642 15.1672 10.0496 15.1251 10.363C15.0838 10.6703 14.9936 10.9657 14.7726 11.2114L14.7266 11.2598C14.4718 11.5146 14.1575 11.6142 13.8298 11.6583C13.5164 11.7004 13.1232 11.6992 12.666 11.6992V10.6992C13.1515 10.6992 13.4654 10.6981 13.6966 10.667C13.9135 10.6379 13.9817 10.5907 14.0198 10.5527C14.0578 10.5145 14.1047 10.4464 14.1338 10.2298C14.1649 9.99859 14.166 9.68474 14.166 9.19922Z"
          fill="currentColor"
        />
        <path
          d="M0.833988 9.19922C0.833988 8.74203 0.832814 8.34882 0.874925 8.03547C0.918991 7.70771 1.01855 7.39344 1.27336 7.1386L1.3218 7.09266C1.56751 6.87158 1.86295 6.78147 2.17024 6.74016C2.48358 6.69805 2.87679 6.69922 3.33399 6.69922V7.69922C2.84847 7.69922 2.53462 7.70032 2.30336 7.73141C2.08649 7.76056 2.01861 7.80773 1.98055 7.84578L1.98024 7.84547C1.94216 7.88357 1.89532 7.9518 1.86618 8.1686C1.83509 8.39985 1.83399 8.7137 1.83399 9.19922C1.83399 9.68475 1.83509 9.99859 1.86618 10.2298C1.89528 10.4463 1.94219 10.5145 1.98024 10.5527H1.98055C2.01861 10.5907 2.08649 10.6379 2.30336 10.667C2.53462 10.6981 2.84847 10.6992 3.33399 10.6992V11.6992C2.87679 11.6992 2.48358 11.7004 2.17024 11.6583C1.86295 11.617 1.56751 11.5269 1.3218 11.3058L1.27336 11.2598C1.01855 11.005 0.918991 10.6907 0.874925 10.363C0.832814 10.0496 0.833988 9.65641 0.833988 9.19922Z"
          fill="currentColor"
        />
        <path
          d="M8.5 1.5332C8.5 1.25707 8.27613 1.0332 8 1.0332C7.72387 1.0332 7.5 1.25707 7.5 1.5332C7.5 1.80934 7.72387 2.0332 8 2.0332C8.27613 2.0332 8.5 1.80934 8.5 1.5332ZM9.5 1.5332C9.5 2.36164 8.8284 3.0332 8 3.0332C7.1716 3.0332 6.5 2.36164 6.5 1.5332C6.5 0.704768 7.1716 0.0332031 8 0.0332031C8.8284 0.0332031 9.5 0.704768 9.5 1.5332Z"
          fill="currentColor"
        />
        <path
          d="M7.5 4.5332V2.5332C7.5 2.25706 7.72386 2.0332 8 2.0332C8.27614 2.0332 8.5 2.25706 8.5 2.5332V4.5332L8.4975 4.58445C8.47184 4.83652 8.25884 5.0332 8 5.0332C7.74116 5.0332 7.52816 4.83652 7.5025 4.58445L7.5 4.5332Z"
          fill="currentColor"
        />
        <path
          d="M5.5 8.53375V7.86719C5.5 7.59105 5.72386 7.36719 6 7.36719C6.27614 7.36719 6.5 7.59105 6.5 7.86719V8.53375C6.5 8.80989 6.27614 9.03375 6 9.03375C5.72386 9.03375 5.5 8.80989 5.5 8.53375Z"
          fill="currentColor"
        />
        <path
          d="M9.5 8.53375V7.86719C9.5 7.59105 9.72386 7.36719 10 7.36719C10.2761 7.36719 10.5 7.59105 10.5 7.86719V8.53375C10.5 8.80989 10.2761 9.03375 10 9.03375C9.72386 9.03375 9.5 8.80989 9.5 8.53375Z"
          fill="currentColor"
        />
        <path
          d="M6.26604 10.5671C6.431 10.3472 6.74217 10.3021 6.96292 10.4652L6.96104 10.4634C6.9658 10.4665 6.97706 10.4736 6.99448 10.4834C7.02932 10.503 7.08944 10.5335 7.17479 10.5656C7.34472 10.6293 7.61898 10.7006 7.99948 10.7006C8.37993 10.7005 8.65393 10.6293 8.82385 10.5656C8.90922 10.5335 8.9693 10.503 9.00417 10.4834C9.0216 10.4736 9.03284 10.4665 9.0376 10.4634C9.03868 10.4627 9.03938 10.4621 9.03979 10.4618C9.03937 10.4621 9.03874 10.4629 9.0376 10.4637C9.25822 10.3022 9.56811 10.3478 9.7326 10.5671C9.89828 10.788 9.85352 11.1014 9.6326 11.2671L9.3326 10.8671C9.63259 11.2671 9.63248 11.2673 9.63229 11.2674L9.63198 11.2677C9.63171 11.2679 9.63132 11.2682 9.63104 11.2684C9.63053 11.2687 9.63004 11.2692 9.62948 11.2696C9.62829 11.2705 9.62682 11.2714 9.62542 11.2724C9.62248 11.2746 9.61898 11.2772 9.6151 11.2799C9.60736 11.2854 9.59755 11.2921 9.58604 11.2996C9.56305 11.3147 9.5325 11.3335 9.49448 11.3549C9.41823 11.3978 9.31158 11.4505 9.17479 11.5018C8.9003 11.6047 8.50775 11.7005 7.99948 11.7006C7.49111 11.7006 7.09837 11.6047 6.82385 11.5018C6.68707 11.4505 6.58041 11.3978 6.50417 11.3549C6.46615 11.3335 6.43559 11.3147 6.4126 11.2996C6.40109 11.2921 6.39129 11.2854 6.38354 11.2799C6.37969 11.2772 6.37646 11.2746 6.37354 11.2724C6.3721 11.2714 6.37069 11.2705 6.36948 11.2696C6.36886 11.2692 6.36816 11.2688 6.3676 11.2684L6.36698 11.2677L6.36635 11.2674C6.36625 11.2672 6.37106 11.2604 6.66604 10.8671L6.36604 11.2671C6.14513 11.1014 6.10036 10.788 6.26604 10.5671Z"
          fill="currentColor"
        />
      </svg>
    ),
    title: "Agent Modal",
    iconBgColor: "bg-[#FF9500]"
  },
  {
    icon: (
      <svg
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M12.4333 10.9286V6.74777C12.4333 5.59059 12.432 4.79137 12.3513 4.1903C12.283 3.68168 12.1668 3.3942 12.002 3.19309L11.9283 3.11161C11.6697 2.85249 11.4788 2.74704 11.1136 2.68416C10.6729 2.60829 10.0375 2.60603 8.87193 2.60603H7.1264C5.96083 2.60603 5.32541 2.60829 4.88477 2.68416C4.56525 2.73918 4.37912 2.82664 4.16434 3.02121L4.07003 3.11161C3.86566 3.3164 3.72507 3.60894 3.64704 4.1903C3.56638 4.79137 3.56501 5.59059 3.56501 6.74777V12.4805C3.56487 12.8591 3.25781 13.1657 2.87919 13.1657C2.50057 13.1657 2.19351 12.8591 2.19336 12.4805V6.74777C2.19336 5.62929 2.19191 4.72132 2.28767 4.00782C2.38606 3.27478 2.5984 2.64501 3.09961 2.14286L3.26758 1.98382C3.66107 1.63483 4.07353 1.43221 4.65207 1.3326C5.23789 1.23173 6.02056 1.23438 7.1264 1.23438H8.87193C9.97778 1.23438 10.7604 1.23173 11.3463 1.3326C12.0076 1.44645 12.4517 1.69503 12.8987 2.14286L12.9897 2.23829C13.4263 2.72392 13.6184 3.32061 13.7107 4.00782C13.8064 4.72132 13.805 5.62929 13.805 6.74777V10.9286C13.805 11.3073 13.4978 11.6144 13.1191 11.6144C12.7405 11.6144 12.4333 11.3073 12.4333 10.9286Z"
          fill="currentColor"
        />
        <path
          d="M2.19336 12.6392C2.19351 11.4368 3.20426 10.5137 4.38532 10.5137H13.1191L13.1895 10.5176C13.5351 10.5528 13.805 10.8445 13.805 11.1995C13.805 11.5545 13.5351 11.8462 13.1895 11.8814L13.1191 11.8853H4.38532C3.90324 11.8853 3.56517 12.2513 3.56501 12.6392C3.56501 13.0272 3.90313 13.3937 4.38532 13.3937H13.1191L13.1895 13.3976C13.5351 13.4328 13.805 13.7245 13.805 14.0795C13.805 14.4345 13.5351 14.7262 13.1895 14.7614L13.1191 14.7653H4.38532C3.20417 14.7653 2.19336 13.8418 2.19336 12.6392Z"
          fill="currentColor"
        />
        <path
          d="M10.834 12.6392C10.8341 11.3992 11.9272 10.5137 13.1197 10.5137C13.4984 10.5137 13.8055 10.8208 13.8055 11.1995C13.8055 11.5782 13.4984 11.8853 13.1197 11.8853C12.5452 11.8854 12.2058 12.2889 12.2056 12.6392C12.2056 12.9677 12.504 13.3436 13.0148 13.3892L13.1197 13.3937L13.19 13.3976C13.5357 13.4328 13.8055 13.7245 13.8055 14.0795C13.8055 14.4345 13.5357 14.7263 13.19 14.7614L13.1197 14.7653L13.0081 14.7626C11.8598 14.7093 10.834 13.8406 10.834 12.6392Z"
          fill="currentColor"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M6.61482 5.48577C6.98822 5.36131 7.28123 5.0683 7.4057 4.6949L7.59471 4.12784C7.65204 3.95585 7.813 3.83984 7.99429 3.83984C8.17559 3.83984 8.33654 3.95585 8.39387 4.12784L8.58289 4.6949C8.70736 5.0683 9.00037 5.36131 9.37377 5.48578L9.94082 5.67479C10.1128 5.73212 10.2288 5.89308 10.2288 6.07437C10.2288 6.25567 10.1128 6.41662 9.94082 6.47395L9.37377 6.66297C9.00036 6.78743 8.70736 7.08044 8.58289 7.45385L8.39387 8.0209C8.33654 8.19289 8.17559 8.3089 7.99429 8.3089C7.813 8.3089 7.65204 8.19289 7.59471 8.0209L7.4057 7.45385C7.28123 7.08044 6.98822 6.78743 6.61482 6.66297L6.04777 6.47395C5.87577 6.41662 5.75977 6.25567 5.75977 6.07437C5.75977 5.89308 5.87578 5.73212 6.04777 5.67479L6.61482 5.48577Z"
          fill="currentColor"
        />
      </svg>
    ),
    title: "Knowledge Base",
    iconBgColor: "bg-[#34C759]"
  },
  {
    icon: (
      <svg
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M1.51371 1.91406L6.53609 8.63087L1.48242 14.0921H2.62013L7.04505 9.31094L10.6199 14.0921H14.4909L9.18616 6.99746L13.8904 1.91406H12.7526L8.67796 6.31739L5.38542 1.91406L1.51446 1.91406H1.51371ZM3.18631 2.75214H4.96421L12.8167 13.254H11.0388L3.18631 2.75214Z"
          fill="currentColor"
        />
      </svg>
    ),
    title: "Twitter Chat Bot",
    iconBgColor: "bg-[#AF52DE]"
  }
]

const tabs = [
  {
    key: TabKey.DESIGN,
    label: "Design"
  },
  {
    key: TabKey.TOOLS,
    label: "Tools"
  }
]

export const StudioSettingPanel = () => {
  const [tabKey, setTabKey] = useState<TabKey>(TabKey.DESIGN)

  const handleOpenStudio = () => {
    chrome.tabs.create({
      url: `${process.env.PLASMO_PUBLIC_MAIN_SITE}/studio`
    })
  }

  return (
    <div className="flex flex-col h-full gap-3">
      <PanelHeader title="Studio AI" />
      <div className="flex gap-3">
        {tabs.map((tab) => (
          <button
            key={tab.key}
            className={clsx(
              "text-text-default-primary border flex cursor-pointer items-center rounded-lg px-2 py-1 text-xs",
              tabKey === tab.key
                ? "bg-fill-bg-light  border-fill-bg-input"
                : "bg-transparent border-transparent"
            )}
            onClick={() => {
              setTabKey(tab.key)
            }}>
            {tab.label}
          </button>
        ))}
      </div>
      {tabKey === TabKey.DESIGN && (
        <div className="flex flex-col gap-3">
          {menuList.map((item) => (
            <button
              onClick={handleOpenStudio}
              key={item.title}
              className="bg-fill-bg-light border-fill-bg-input hover:border-primary-brand flex cursor-pointer items-center gap-2 rounded-lg border p-3">
              <div
                className={clsx(
                  "flex w-5 h-5 items-center justify-center rounded-md",
                  item.iconBgColor
                )}>
                {item.icon}
              </div>
              <span className="text-text-default-primary text-xs leading-[18px]">
                {item.title}
              </span>
            </button>
          ))}
        </div>
      )}
      {tabKey === TabKey.TOOLS && (
        <div className="flex-1 min-h-0 flex items-center justify-center text-primary-brand text-xs">
          <span className="-translate-y-9">Coming soon...</span>
        </div>
      )}
    </div>
  )
}
